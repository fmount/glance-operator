apiVersion: glance.openstack.org/v1beta1
kind: Glance
metadata:
  name: glance
spec:
  serviceUser: glance
  databaseInstance: openstack
  databaseAccount: glance
  keystoneEndpoint: default
  customServiceConfig: |
    [DEFAULT]
    debug = true
  glanceAPIs:
    default:
      overrides:
        affinity:
          spec:
            requiredDuringSchedulingIgnoredDuringExecution:
            - labelSelector:
                matchExpressions:
                - key: security
                  operator: In
                  values:
                  - S1
              topologyKey: failure-domain.beta.kubernetes.io/zone
      type: single
      preserveJobs: false
      replicas: 1
      imageCache:
        size: 2G
  secret: osp-secret
  storage:
    storageClass: local-storage
    storageRequest: 10G
